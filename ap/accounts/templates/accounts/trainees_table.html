{% extends "base.html" %}
{% load staticfiles %}
{% load bootstrap3 %}
{% bootstrap_messages %}


{% block scripts %}

<script type="text/javascript">
  $(document).ready(function() {
    $("#trainees").DataTable({
      info: false,
      paging: false,
      autoWidth: true,
      columnDefs: [
        {
          targets: 'trainee-info',
          visible: true
        },
        {
          targets: '_all',
          visible: false
        }
      ],
      dom: '<"row"<"col-sm-6"Bl><"col-sm-6"f>>' +
        '<"row"<"col-sm-12"<"table-responsive"tr>>>' +
        '<"row"<"col-sm-5"i><"col-sm-7"p>>',
      fixedHeader: {
        header: true
      },
      buttons: {
        buttons: [
          {
            extend: 'print',
            text: 'Print',
            autoPrint: true,
            exportOptions:{
              columns: ':visible'
            },
          },
          {
            extend: 'csvHtml5',
            text: 'CSV',
            exportOptions: {
              columns: ':visible'
            },
          },
          {
            extend: 'pdf',
            text: 'PDF',
            exportOptions:{
              columns: ':visible'
            },
          },
          {
            extend: 'colvis',
            text: 'Show/Hide Columns',
            columns: ':gt(1)',
          },
        ],
        dom: {
          container: {
            className: 'dt-buttons'
          },
          button: {
            className: 'btn btn-default'
          }
        }
      }
    })
  });
</script>

{% endblock %}

{% block title %}Trainee Information{% endblock %}

{% block content %}
<h1>Trainee Information Table</h1>

<div class="data-table-container">
<table id="trainees" class="table table-striped table-bordered">
  <thead>
    <tr>
      <th class="trainee-info">Firstname</th>
      <th class="trainee-info">Lastname</th>
      <th class="trainee-info">Gender</th>
      <th>Current term</th>
      <th>Birth Date</th>
      <th>Locality</th>
      <th>Residence</th>
      <th class="trainee-info">Phone</th>
    </tr>
  </thead>
  <tbody>
  {% for t in list_of_trainees%}
    <tr>
      <td>{{t.firstname}}</td>
      <td>{{t.lastname}}</td>
      <td>{{t.gender}}</td>
      <td>{{t.current_term}}</td>
      <td>{{t.date_of_birth}}</td>
      <td>{{t.locality}}</td>
      <td>{{t.house}}</td>
      <td>{{t.meta.phone}}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>
</div>
{% endblock %}
