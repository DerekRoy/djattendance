{% extends "base.html" %}

{% load staticfiles %}

{% block references %}
    <link rel="stylesheet" href="{% static 'exams/css/exams.css' %}" />
{% endblock %}

{% block title %}Create exam{% endblock %}

{% block content %}

<!-- <h1>Existing Exams</h1> -->
 <!-- Display existing exams, allow editing -->

<head>
    <script>
        $(document).ready(function(){
            var next = 1;
            $(".add-more").click(function(e){
                e.preventDefault();
                var addto = "#field" + next;
                var addRemove = "#field" + (next);
                next = next + 1;
                var newIn = '<input autocomplete="off" class="input form-control" id="field' + next + '" name="field' + next + '" type="text">';
                var newInput = $(newIn);
                var removeBtn = '<button id="remove' + (next - 1) + '" class="btn btn-danger remove-me" >-</button></div><div id="field">';
                var removeButton = $(removeBtn);
                $(addto).after(newInput);
                $(addRemove).after(removeButton);
                $("#field" + next).attr('data-source',$(addto).attr('data-source'));
                $("#count").val(next);  
                
                    $('.remove-me').click(function(e){
                        e.preventDefault();
                        var fieldNum = this.id.charAt(this.id.length-1);
                        var fieldID = "#field" + fieldNum;
                        $(this).remove();
                        $(fieldID).remove();
                    });
            });
    </script>
</head>

<h1>Create Exam</h1>


<form class="form-horizontal">
<fieldset>

<!-- Text input-->
<div class="form-group">
  <label class="col-md-4 control-label" for="textinput">Class Name</label>  
  <div class="col-md-4">
  <input id="textinput" name="textinput" type="text" placeholder="" class="form-control input-md" required="">
    
  </div>
</div>

<!-- Multiple Radios -->
<div class="form-group">
  <label class="col-md-4 control-label" for="radios">Category</label>
  <div class="col-md-4">
  <div class="radio">
    <label for="radios-0">
      <input type="radio" name="radios" id="radios-0" value="1" checked="checked">
      Midterm
    </label>
    </div>
  <div class="radio">
    <label for="radios-1">
      <input type="radio" name="radios" id="radios-1" value="2">
      Final
    </label>
    </div>
  </div>
</div>

<!-- Text input-->
<div class="form-group">
  <label class="col-md-4 control-label" for="">Question:</label>  
  <div class="col-md-4">
  <input id="" name="" type="text" placeholder="" class="form-control input-md" required="">
    
  </div>
</div>
<div class="container">
    <div class="row">
        <input type="hidden" name="count" value="1" />
        <div class="control-group" id="fields">
            <label class="control-label" for="field1">Nice Multiple Form Fields</label>
            <div class="controls" id="profs"> 
                <form class="input-append">
                    <div id="field"><input autocomplete="off" class="input" id="field1" name="prof1" type="text" placeholder="Type something" data-items="8"/><button id="b1" class="btn add-more" type="button">+</button></div>
                </form>
            <br>
            <small>Press + to add another form field :)</small>
            </div>
        </div>
    </div>
</div>


<!-- Button -->
<div class="form-group">
  <label class="col-md-4 control-label" for=""></label>
  <div class="col-md-4">
    <button id="" name="" class="btn btn-success">Create Exam</button>
  </div>
</div>

</fieldset>
</form>

<!-- <form action="" method="post">
      {% csrf_token %}
    <legend>Exam information</legend>
    <div style="margin-left: 20px;">
        {{ form.as_p }}
    </div>

    <legend>Exam Sections</legend>
    <div style="margin-left: 20px;">
        <div>
            <a class="add-instructions" type="section-instructions"> New instructions </a> |
            <a class="add" type="essay"> New essay </a> |
            <a class="add" type="fillin"> New fill-in-the-blank question </a> |
            <a class="add" type="multiple"> New multiple choice question </a> |
            <a class="add" type="matching"> New matching question </a>
        </div>
        {{ formset.management_form }}
        {{ formset.non_form_errors }}
        {% for section_form in formset %}
            <div id="section-{{ forloop.counter1 }}">
                {{ section_form.as_p }}
                {% if section.nested %}
                    {% for essayquestion in section.nested %}
                        {{ essayquestion.as_p }}
                    {% endfor %}
                {% endif %}
            </div>
        {% endfor %}
    </div>
    <input type="submit" value="Add Exam" class="submit" />
</form>

{% endblock %} -->