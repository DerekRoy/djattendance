{% extends "base.html" %}
{% load staticfiles %}
{% load bootstrap3 %}
{% bootstrap_css %}
{% bootstrap_javascript %}
{% bootstrap_messages %}
{% block references %}
<link rel="stylesheet" type="text/css" href="{% static 'leaveslips/style.css' %}" />
{% endblock %}


{% block content %}

    <h2>New Individual Leave Slip</h2>
    <div class="leaveslip-form">
	    <form action="" method="post">{% csrf_token %}
	        {% bootstrap_form form %}

	        <div class="mealout-form">
	        	{% bootstrap_form mealout_form %}   
	    	</div>
	    	<div class="nightout-form">
		        {% bootstrap_form nightout_form %}      
		    </div>  

	        {% buttons %}
	            <button type="submit" class="btn btn-primary">
	                Submit
	            </button>
	        {% endbuttons %}
	    </form>
	</div>

{% endblock %}
{% block scripts %}

<script type="text/javascript">

	$(document).ready( function() {
		console.log('According to my earnest expectation and hope that in nothing I will be put to shame, but with all boldness, as always, even now Christ will be magnified in my body, whether through life or through death. Phil. 1:20');

		var mealout = $(".mealout-form");
		var nightout = $(".nightout-form");

		// in case viewing an invalid form; display right away
		var typeselect = $(".leaveslip-form #id_type" );		
		// TODO

		typeselect.change(function() {
		  var value = $(this).val();
		  nightout.hide();
		  mealout.hide();
		  
		  switch(value) {
		  	case "MEAL":
		  		mealout.show();
		  		break;
		  	case "NIGHT":
		  		nightout.show();
		  		break;
		  	default:
		  		// future options...
		  		break;
		  }
		});
	});

</script>

{% endblock %}