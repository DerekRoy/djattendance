{% extends "base.html" %}

{% block references %}
<style>
#week-select-container {
  margin-top: 30px;
  margin-bottom: 15px;
}
</style>
{% endblock %}

{% block scripts %}
<script>
$(document).ready(() => {
  $('#week-select')
  .select2({
    data: {{ view.weeks|safe }},
    minimumResultsForSearch: -1,
  })
  .val({{ view.week}})
  .trigger('change')
  .on('change', (e) => {
    window.location = "{% url 'audio:audio-home-week' week=999 %}".replace('999', e.target.value);
  });
});
</script>
{% endblock %}

{% block content %}

<div class="row">
  <div class="col-sm-6">
    <h2 id="page-title">Audio Recording List</h2>
  </div>
  <div id="week-select-container" class="col-sm-6">
    <select id="week-select"></select>
  </div>
</div>

<div id="recording-list" class="row">
  {% for audiofile in object_list %}
    {% include 'audio/audiofile_detail.html' %}
  {% empty %}
    <i>No audio recordings available for this week.</i>
  {% endfor %}
</div>

{% include "audio/audio_player.html" %}

{% endblock %}
