{% extends "base.html" %}
{% load staticfiles %}
{% load bootstrap3 %}
{% bootstrap_css %}
{% bootstrap_javascript %}
{% bootstrap_messages %}

{% block title %}
  Announcements for {{ date }}
{% endblock %}

{% block references %}
  <link rel="stylesheet" href="{% static "jquery/themes/smoothness/jquery-ui.css" %}" />
{% endblock %}

{% block scripts %}
  {# Quick fix b/x select2 because conflicting jquery versions on page so onchange doesn't fire correctly #}
  <script type="text/javascript" src="{% static 'js/select2-django.js' %}"></script>
  <script src="{% static "jquery/js/jquery-ui.js" %}"></script>
  <script>
  $(document).ready(function() {
    $('.datepicker').datepicker({
      dateFormat: "mm-dd-yy",
      onSelect: function(date) {
      console.log(date);
      window.location.href = "{% url 'announcements:announcement-list' %}" + date;
      }
    });
  });
  </script>
{% endblock %}

{% block content %}

<h2>Announcements for {{ date }}</h2>
<h4>Show announcements for: {% bootstrap_field form.announcement_day layout='inline' %}</h4>

{% for announcement in object_list %}
  {% include "announcements_day/item.html" %}
{% empty %}
  <h4><i>You have no announcements for today.</i></h4>
{% endfor %}

{% endblock %}
