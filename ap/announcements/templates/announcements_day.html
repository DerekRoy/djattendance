{% extends "base.html" %}
{% load staticfiles %}
{% load bootstrap3 %}
{% bootstrap_messages %}

{% block title %}
  Announcements for {{ date }}
{% endblock %}

{% block scripts %}
  {# Quick fix b/x select2 because conflicting jquery versions on page so onchange doesn't fire correctly #}
  <script type="text/javascript" src="{% static 'libraries/bootstrap-select2/select2-django.js' %}"></script>
  <script>
  $(document).ready(function() {
    $('.datepicker').datepicker({
      dateFormat: "mm-dd-yy",
      onSelect: function(date) {
        window.location.href = "{% url 'announcements:announcement-list' %}" + date;
      }
    });
  });
  </script>
  {{ form.media }}
{% endblock %}

{% block content %}

<h2>Announcements for {{ date }}</h2>
<h4>Show announcements for: {% bootstrap_field form.announcement_day layout='inline' %}</h4>

{% for announcement in object_list %}
  {% include "announcements_day/item.html" %}
{% empty %}
  <h4><i>You have no announcements for today.</i></h4>
{% endfor %}

{% endblock %}
